<!DOCTYPE html>
<html data-require="math word-problems">
<head>
	<title>Divisibility 0.5</title>
	<script src="../khan-exercise.js"></script>
</head>
<body>
	<div class="exercise">
	    <!-- TODO: What happens when there is more than one right answer?
            For example: "What is a # btwn 0 and 10 that divides into 54?"
            This could be solved by making the question multiple choice or accepting multiple answers
            or changing the question altogether. This exercise does not map to a live exercise.
	    -->
		<div class="vars">
            <var id="NUMBER">randRange( 0, 1 ) ? getOddComposite( 50 ) : getEvenComposite( 50 )</var>
			<var id="ANSWER">
				var factorization = getPrimeFactorization( NUMBER ),
					num_factors = round( factorization.length / 2 ),
					answer = 1;
					
				for (var i = 0; i &lt; num_factors && factorization.length; i++) {
					var index = floor( random() * factorization.length );
					answer *= factorization[index];
					factorization = jQuery.merge( factorization.slice(0, index), factorization.slice(index + 1) );
				}
				return answer;
			</var>
			<var id="NUMBER_FACTORS">toSentence( getPrimeFactorization ( NUMBER ) )</var>
			<var id="ANSWER_FACTORS">toSentence( getPrimeFactorization( ANSWER ) )</var>
			<var id="ROUNDED">roundTo(-1, ANSWER)</var>
			<var id="LOW">ANSWER > ROUNDED ? ROUNDED : ROUNDED - 10</var>
			<var id="HIGH">LOW + 10</var>
		</div>

		<div class="problems">
			<div>
				<div class="question">What is a number between <var>LOW</var> and <var>HIGH</var> that divides into <var>NUMBER</var>?</div>
				<p class="solution"><var>ANSWER</var></p>
			</div>
		</div>
		
		<div class="hints">
            <p>In other words, we are looking for a number between <var>LOW</var> and <var>HIGH</var> such that <var>NUMBER</var> is divisible by it.</p>
            <div>
                <p>We see that <var>NUMBER</var> is divisible by <var>ANSWER</var>.</p>
                <p><var>NUMBER</var>'s prime factorization is <var>NUMBER_FACTORS</var>.</p>
                <p><var>ANSWER</var>'s prime factorization is <var>ANSWER_FACTORS</var>.</p>
                <p>It isn't a coincidence that <var>NUMBER</var>'s prime factorization includes <var>ANSWER</var>'s prime factorization!</p>
            </div>
	    </div>
</body>
</html>


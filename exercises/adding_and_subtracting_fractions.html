<!DOCTYPE html>
<html data-require="math math-format">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Adding and subtracting fractions</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">
    <div class="vars" data-ensure="D1 !== D2">
        <var id="N1">randRangeNonZero( -9, 9 )</var>
        <var id="N2">randRangeNonZero( -9, 9 )</var>
        <var id="D1">randRangeExclude( 2, 9, [ N1, -N1 ] )</var>
        <var id="D2">randRangeExclude( 2, 9, [ N2, -N2 ] )</var>
        <var id="GCD1">getGCD( N1, D1 )</var>
		<var id="GCD2">getGCD( N2, D2 )</var>
		<var id="NR1">N1 / GCD1</var>
		<var id="DR1">D1 / GCD1</var>
		<var id="NR2">N2 / GCD2</var>
		<var id="DR2">D2 / GCD2</var>
		<var id="LCM">getLCM( DR1, DR2 )</var>
		<var id="F1">LCM / DR1</var>
        <var id="F2">LCM / DR2</var>
		<var id="GCDF">getGCD( F1 * NR1 + F2 * NR2, LCM )</var>
    </div>

    <div class="problems">
        <div>
            <div class="question">
                <p><code><var>fraction( N1, D1 )</var> + <var>fraction( N2, D2 )</var> = {?}</code></p>
            </div>
            <div class="solution" data-type="rational"><var>N1 / D1 + N2 / D2</var></div>
        </div>
    </div>

     <div class="hints">
		<div data-if="getGCD ( N1, D1 ) !== 1">
			<p>Because <code><var>N1</var></code> and <code><var>D1</var></code> are both divisible by <code>\blue{<var>GCD1</var>}</code>, we know that <code><var>fraction( N1, D1 )</var></code> is not in lowest terms. We can divide this out of the numerator and denominator. Reducing, <code><var>fraction( N1, D1 )</var> = \blue{<var>fraction( NR1, DR1 )</var>} </code>. </p>
			</div>
		<div data-if="getGCD ( N2, D2 ) !== 1">
			<p>Because <code><var>N2</var></code> and <code><var>D2</var></code> are both divisible by <code>\pink{<var>GCD2</var>}</code>, we know that <code><var>fraction( N2, D2 )</var></code> is not in lowest terms. We can divide this out of the numerator and denominator. Reducing, <code><var>fraction( N2, D2 )</var> = \pink{<var>fraction( NR2, DR2 )</var>} </code>. </p>
			</div>	
        <p>In order to compute <code><var>fraction( NR1, DR1 )</var> + <var>fraction( NR2, DR2 )</var></code>, we need to find a common denominator. The least common multiple of <code>\blue{<var>DR1</var>}</code> and <code>\pink{<var>DR2</var>}</code> is the smallest possible common denominator.</p>
        <p>Using the prime factorizations of each number, we find that <code>\lcm(\blue{<var>DR1</var>}, \pink{<var>DR2</var>}) = \green{<var>LCM</var>}</code>.</p>
        <p>Now, we need to change both fractions to have a denominator of <code>\green{<var>LCM</var>}</code>. In order to do this, we can multiply <code> \blue{<var>fraction( NR1, DR1 )</var>} </code> by <code> <var>fraction( F1, F1 ) </var> </code> and <code> \pink{<var>fraction( NR2, DR2 )</var>} </code> by <code> <var>fraction( F2, F2 ) </var> </code>. These are equal to <code> 1 </code>, so they will not change the actual value of the fraction. </p>
        <p><code>\begin{align*}\blue{<var>fraction( NR1, DR1 )</var>}\cdot <var>fraction( F1, F1 )</var> &= \green{<var>fraction( NR1 * F1, LCM )</var>}\\
        \pink{<var>fraction( NR2, DR2 )</var>}\cdot <var>fraction( F2, F2 )</var> &= \green{<var>fraction( NR2 * F2, LCM )</var>}\end{align*}</code></p>
        <div>
            <p>Hence, the problem becomes:</p>
            <p><code>\green{<var>fraction( NR1 * F1, LCM )</var>} + \green{<var>fraction( NR2 * F2, LCM )</var>} = {?}</code></p>
        </div>
        <div>
            <p><var>N2 &gt; 0 ? "Add" : "Subtract"</var> the numerators.</p>
            <p><code><var>fraction( F1 * NR1 + F2 * NR2, LCM)</var></code></p>
        </div>
        <div data-if="getGCD( F1 * NR1 + F2 * NR2, LCM ) !== 1">
            <p>The numerator and denominator are each divisible by <code><var>GCDF</var></code>. Simplifying:</p>
            <p><code><var>fractionReduce( F1 * NR1 + F2 * NR2, LCM )</var></code></p>
        </div>
    </div>
    </div>
</body>
</html>

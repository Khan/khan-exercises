<!DOCTYPE html>
<html data-require="math graphie graphie-helpers interactive">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Integrals - Max Value</title>
	<script src="../khan-exercise.js"></script>
	<style type="text/css">
		#answer_area input[type=text] {
			width: 30px;
		}
	</style>
</head>
<body>
<div class="exercise">
	<div class="vars" data-ensure="(A + 1 < B) && (B - A) < 8">
        <var id="A">randRange(-9,9)</var>
        <var id="B">randRange(-9,9)</var>
		<var id="YSCALE">-A*B + (A+B)*(A+(B-A)/2) - (A+ (B-A)/2)*(A+(B-A)/2) + 1</var>
        
    </div>

	<div class="problems">
		<div>
			<div class="question">
				<p>
				 	Find the interval <code>[a,b]</code> over which the integral <code>\int_a^b (<var>-A*B</var> + <var>(A+B)</var>x - x^2)dx </code> is at a maximum.
		
				</p>
		
			</div>		
				
			
			<div class="solution" data-type="multiple">
				<p>
					<code>[a,b] = [</code> <span class="sol"><var>A</var></span> , <span class="sol"><var>B</var></span><code>]</code>
				</p>
				
			</div>	 
		</div>
	</div>

	<div class="hints">
		
		<p>
			Begin by graphing <code>y = <var>-A*B</var> + <var>(A+B)</var>x - x^2 </code>.  
		</p>
		
		<div class="graphie" id="graph">
			graphInit({
				range: [[-10,10],[-5,Math.min(20, Math.floor(YSCALE))]],
				scale: [20, 20],				
				labelStep: 1,
				labelOpacity: 0.5,
				tickStep: 1,
				axisArrows: "<->"
			});

			style({
				stroke: GREEN,
				fill: "none",
				arrows: null
			});

			plot( new Parabola( -1, (A+B)/2, (A*A - 2*A*B + B*B)/4 ).graphieFunction, [-10, 10]);

		</div>
		
		<p>
			By accumulating area between what two values <code>a</code> and <code>b</code> does the integral attain its max?
		</p>	
		
		<p>
			Remember that area below the <code>x</code>-axis counts as negative, so we only want to integrate over the region where <code>y = <var>-A*B</var> + <var>(A+B)</var>x - x^2 </code> is positive.
		</p>
		
		<div class="graphie" data-update="graph">
			var fillPoints = [];
  			fillPoints[0] = [A,0];
  				
  			for (var i = 1; i &lt; 500; i++) {
  				fillPoints[i] = [A+(B-A)*i/500, (-(B-A)*i/500)*(A+(B-A)*i/500-B)];
  			}
  		
  			fillPoints[500] = [B,0];
  					
  			style({
         		stroke: "none",
         		fill: GREEN,
  				opacity: FILL_OPACITY
         		}, function() {
         			path(fillPoints);
         		}
			);
		</div>
		
		<p>
			To find this region, we need to find the roots of <code>y = <var>-A*B</var> + <var>(A+B)</var>x - x^2 </code>.  
		</p>
		
		<p>
			Factoring the quadratic yields <code>y = (<var>A</var>-x)(x-<var>B</var>)</code> and so the roots are <code>x = <var>A</var></code> and <code>x = <var>B</var></code>.
		</p>
		
		<div class="final_answer">
			So, <code>[a,b] = [<var>A</var>, <var>B</var>]</code>.
		</div>
		
	</div>
</div>
</body>
</html>

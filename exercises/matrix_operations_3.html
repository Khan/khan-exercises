<!DOCTYPE html>
<html data-require="math math-format matrices expressions">
<head>
	<title>Matrix Multiplication</title>
	<script src="../khan-exercise.js"></script>
</head>
<body>
	<div class="exercise">
	<div class="vars">
		<var id='M'>randRange(1,5)</var>
		<var id='N'>randRange(1,5)</var>
		<var id='J'>randRange(1,5)</var>
		<var id="A">randRangeMatrix(M,N,-8,8)</var>
		<var id="B">randRangeMatrix(N,J,-8,8)</var>
		<var id="AB">genericMatrix(M,J,'c')</var>
		<var id="A_COLORED">colorizeMatrixRows(A, ['blue','green','teal','cyan','purple'])</var>
		<var id="B_COLORED">colorizeMatrixCols(B, ['red', 'magenta', 'maroon', 'orange', 'tan'])</var>
		<var id="AB_COLORED">A_COLORED.mul(B_COLORED).map(exprSimplifyAssociative)</var>
	</div>

	<div class="problems">
		<div id="original">
			<div class="question">
				<p>
				If <code>A=<var>A.toCode('[')</var></code> and <code>B=<var>B.toCode('[')</var></code>,
				what is the product
				<code>AB</code>?
				</p>
			</div>
			<div class="solution" data-type="multiple">
				<span class="sol" data-type="rational"><var>M</var></span>
				<code>\times</code>
				<span class="sol" data-type="rational"><var>J</var></span>
			</div>
		</div>
		<div data-type="original">
			<div class="question">
				<p>
				What is <code><var>A.toCode('[')</var><var>B.toCode('[')</var></code>?
				</p>
			</div>
		</div>
	</div>
	<div class="hints">
		<p>First, identify the dimensions of each matrix.</p>
		<p><code>A=<var>A.toCode('[')</var></code>  is a <code><var>M</var>\times<var>N</var></code>
		matrix, and 
		<code>B=<var>B.toCode('[')</var></code>  is a <code><var>N</var>\times<var>J</var></code>
		matrix.
		</p>
		<p>
			<code>AB</code> exists if, when you write the dimensions side-by-side, 
			<code><var>M</var>\times\color{green}{<var>N</var>}</code>
			<code>\color{green}{<var>N</var>}\times<var>J</var></code>, the middle
			terms match.
		</p>
		<p>
			If <code>AB</code> exists, the dimensions of <code>AB</code>
			are given by the outside terms, 
			<code>\color{red}{<var>M</var>}\times<var>N</var></code>
			<code><var>N</var>\times\color{red}{<var>J</var>}</code>.
		</p>
		<p>
			So, <code>AB=<var>AB.toCode('[')</var></code> is a <code><var>M</var>\times<var>J</var></code>
			matrix.
		</p>
		<p>
			The <code>c_{ij}</code> entry of <code>AB</code> is the dot product of the <code>i</code>th
			row of <code>A</code> and the <code>j</code>th column of <code>B</code>.
		</p>
		<p>
			Coloring the rows of <code>A</code> and the columns of <code>B</code>
			<code><var>A_COLORED.toCode('[')</var><var>B_COLORED.toCode('[')</var></code>,
			we see <br />
			<code>c_{11}=<var>expr(AB_COLORED.get(0,0))</var></code>,
			<span data-if="2<=M"><br /><code>c_{21}=<var>expr(AB_COLORED.get(1,0))</var></code>,</span>
			<span data-if="2<=J"><br /><code>c_{12}=<var>expr(AB_COLORED.get(0,1))</var></code>,</span> 
			etc.
		</p>
		<p>
			Putting it all together, <br />
			<code><var>A_COLORED.toCode('[')</var><var>B_COLORED.toCode('[')</var>
			=<var>AB_COLORED.toCode('[')</var></code>
		</p>
		<p>
			<code>\hphantom{<var>A_COLORED.toCode('[')</var><var>B_COLORED.toCode('[')</var>}
			=<var>A.mul(B).toCode('[')</var></code>
		</p>
	</div>
	</div>
</body>
</html>

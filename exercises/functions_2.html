<!DOCTYPE html>
<html data-require="math graph">
<head>
	<title>Functions 2</title>
	<script src="../khan-exercise.js"></script>

	<style>
		.f {
			color: orange;
		}

		.g {
			color: #28AE7B;
		}
	</style>
</head>
<body>
	<div class="exercise">
		<div class="vars">
			<var id="FUNCTION_PATH">
				(function() {
					var currentY = randRange( -5, 5 );

					var functionPath = new Array();
					functionPath.push([-11, currentY]);

					for( var i = -10; i < 11; i++ ) {
						if (Math.abs( randRangeNonZero( -10, 10 ) < 2 ) && functionPath[i+10][1] < 8 ) {
							functionPath.push([ i, functionPath[i+10][1]+1 ]);

						} else if (Math.abs( randRangeNonZero( -10, 10 ) < 2 ) && functionPath[i+10][1] > -8 ) {
							functionPath.push([ i, functionPath[i+10][1]-1 ]);

						} else if (Math.abs( randRangeNonZero( -10, 10 ) < 2 ) && functionPath[i+10][1] < 7 ) {
							functionPath.push([ i, functionPath[i+10][1]+2 ]);

						} else if (Math.abs( randRangeNonZero( -10, 10 ) < 3 ) && functionPath[i+10][1] > -7 ) {
							functionPath.push([ i, functionPath[i+10][1]-2 ]);

						} else {
							functionPath.push([ i, functionPath[i+10][1] ]);
						}
					}

					return functionPath;
				})()
			</var>

			<var id="G_PATH">
				(function() {
					var gY = randRange( 3, -7 );

					var gPath = new Array();
					gPath.push([-11, gY]);

					for( var i = -10; i < 11; i++ ) {
						if (Math.abs( randRangeNonZero( -10, 10 ) < 2 ) && gPath[i+10][1] < 8 ) {
							gPath.push([i, gPath[i+10][1]+1]);

						} else if (Math.abs( randRangeNonZero( -10, 10 ) < 3 ) && gPath[i+10][1] > -8 ) {
							gPath.push([i, gPath[i+10][1]-1]);

						} else if (Math.abs( randRangeNonZero( -10, 10 ) < 2 ) && gPath[i+10][1] < 7 ) {
							gPath.push([i, gPath[i+10][1]+2]);

						} else if (Math.abs( randRangeNonZero( -10, 10 ) < 3 ) && gPath[i+10][1] > -7 ) {
							gPath.push([i, gPath[i+10][1]-2]);

						} else {
							gPath.push([i, gPath[i+10][1]]);
						}
					}
					return gPath;
				})()
			</var>

			<var id="F_COEF">randRangeNonZero(-10, 10)</var>
			<var id="G_COEF">randRangeNonZero(-10, 10)</var>

			<var id="CORRECT_X">randRange(-9, 9)</var>
			<var id="CORRECT_Y">FUNCTION_PATH[CORRECT_X + 11][1]</var>

			<var id="CORRECT_GX">randRange(-9, 9)</var>
			<var id="CORRECT_GY">G_PATH[CORRECT_GX+11][1]</var>
		</div>

		<div class="problems">
			<div>
				<p class="problem" style="font-size: 20px;">
					<code class="f"><var>F_COEF</var> f(<var>CORRECT_X</var>)</code> +
					<code class="g"><var>G_COEF</var> g(<var>CORRECT_GX</var>)</code>
				<p class="question" style="font-size: 20px;">
					Solve.
				</p>

				<div class="graph" style="width: 500px; height: 500px;" data-style="font-size: 20; font-style: italic; stroke: orange; font-fill: orange;" data-graph-type="plane">
					text( FUNCTION_PATH[ FUNCTION_PATH.length-2 ], "f(x)", "above" );
					path( FUNCTION_PATH );
				</div>

				<div class="graph update" data-style="stroke: #28AE7B; font-fill: #28AE7B;">
					text( G_PATH[ G_PATH.length - 2 ], "g(x)", "above" );
					path( G_PATH )
				</div>

				<p class="solution"><var>F_COEF * CORRECT_Y + G_COEF * CORRECT_GY</var></p>
			</div>
		</div>

		<div class="hints">
			<div>
				<div class="graph update" data-style="font-size: 25; stroke: orange; stroke-dash-array: 5,5; font-fill: orange;">
					line( [ CORRECT_X, 0 ], FUNCTION_PATH[ CORRECT_X+11 ] );
				</div>

				<div class="graph update" data-style="marker: dot; marker-fill: orange;">
					line( [ 0, CORRECT_Y ], FUNCTION_PATH[ CORRECT_X+11 ] );
					text( [-10, 9], "f("+CORRECT_X+")="+CORRECT_Y, right );
				</div>
			</div>

			<div>
				<div class="graph update" data-style="stroke: #28AE7B; font-fill: #28AE7B; marker: none;">
					line( [CORRECT_GX, 0], G_PATH[ CORRECT_GX+11 ] );
				</div>

				<div class="graph update" data-style="marker: dot; marker-fill: #28AE7B;">
					line([0, CORRECT_GY], G_PATH[CORRECT_GX+11]);
					text([-10, 7.7], "g("+CORRECT_GX+")="+CORRECT_GY, right);
				</div>
			</div>

			<div>
				<div class="graph update" data-style="font-fill: black">
					text([-10, 6.4], F_COEF+"("+CORRECT_Y+") + "+G_COEF+"("+CORRECT_GY+")="+
						(F_COEF * CORRECT_Y + G_COEF * CORRECT_GY), right);
				</div>
		</div>
	</div>
</body>
</html>

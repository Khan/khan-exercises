<!DOCTYPE html>
<html data-require="math matrix matrix-input">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Inverse of a 3x3 matrix</title>
    <script src="../khan-exercise.js"></script>
</head>
<body>
    <div class="exercise">

    <div class="vars">
        <div data-ensure="DET !== 0">
            <var id="DIM">3</var>
            <var id="MAT">makeMatrix(randRange(-2, 5, DIM, DIM))</var>
            <var id="DET">matrixDet(MAT)</var>
            <var id="MAT_MINORS">matrixMinors(MAT)</var>
            <var id="MAT_MINORS_DET">
                matrixMap(function(input) {
                return matrixDet(input);
                }, MAT_MINORS)
            </var>
            <var id="MAT_MINORS_DET_SIGNS">
                matrixMap(function(input,row,elem) {
                return matrixMinorSigns[row][elem]*input;
                }, MAT_MINORS_DET)
            </var>
            <var id="MAT_MINORS_FORMAT">
                printSimpleMatrix(matrixMap(function(input)
                    {return printSimpleMatrixDet(input);},
                MAT_MINORS))
            </var>
            <var id="MAT_ADJ">
                matrixTranspose(MAT_MINORS_DET_SIGNS)
            </var>
        </div>
        <var id="SOLN_MAT">matrixInverse(MAT)</var>
        <var id="PADDED_SOLN_MAT">matrixPad(SOLN_MAT, 3, 3)</var>
        <var id="PRETTY_SOLN_MAT">
            printMatrix(function(a) {
                var sign = (a &lt; 0) ? "-" : "";

                var frac = toFraction(abs(a));

                // omit denominator when it's equal to 1
                if (frac[1] === 1) {
                    return sign + frac[0];
                }

                return sign + "\\frac{" + frac[0] + "}{" + frac[1] + "}";
            }, SOLN_MAT)
        </var>
        <var id="PRETTY_MAT_ID">"\\textbf " + randFromArray("ABCDEF")</var>
    </div>

    <div class="problems">
        <div>
            <div class="problem">
                <p>
                    <code><var>PRETTY_MAT_ID</var> = <var>printSimpleMatrix(MAT)</var></code>
                </p>
            </div>

            <p class="question">
                <p>
                    What is <code><var>PRETTY_MAT_ID</var>^{-1}</code>?
                </p>
            </p>

            <div class="solution" data-type="multiple">
                <div data-each="PADDED_SOLN_MAT as row" class="matrix-row">
                    <span data-each="row as elem">
                        <span data-if="elem !== ''" class="sol" data-simplify="optional">
                            <var>elem</var>
                        </span>
                        <span data-else data-type="text" class="sol">
                            <var>elem</var>
                        </span>
                    </span>
                </div>
                <p class="example">Express your answer in fractions or exact decimals.</p>
                <p class="example">The fractions do not need to be simplified.</p>
            </div>

            <div class="hints">
                <!--makematrix([[a,b,c],[d,e,f],[g,h,i]])-->
                <div>
                    First, find the matrix of minors by taking the minor of each element.
                </div>
                <div style="margin-top:5%;margin-bottom:5%;">
                    <code><var>
                        MAT_MINORS_FORMAT
                    </var></code>
                </div>
                <div>
                    Find the determinant of each matrix.
                </div>
                <div>
                    <code><var>
                        printSimpleMatrix(MAT_MINORS_DET)
                    </var></code>
                </div>
                <div>
                    Multiply the signs by the pattern
                    <code><var>
                        printSimpleMatrix([["+","-","+"],["-","+","-"],["+","-","+"]])
                    </var></code>
                </div>
                <div>
                    <code><var>
                        printSimpleMatrix(MAT_MINORS_DET_SIGNS)
                    </var></code>
                </div>
                <div style="margin-top:5%;margin-bottom:5%;">
                    To find the adjugate of the original matrix, find the transpose of the matrix of minors by switching the rows to columns.
                    <code>
                        <var>printSimpleMatrix([["a","b","c"],["d","e","f"],["g","h","i"]])</var>=
                        <var>printSimpleMatrix([["a","d","g"],["b","e","h"],["c","f","i"]])</var>
                    </code>
                </div>
                <div>
                    The adjugate is
                    <code><var>printSimpleMatrix(MAT_ADJ)</var></code>
                </div>
                <div>
                    Find the determinant of the original matrix.
                </div>
                <div>
                    <code>
                        <var>printSimpleMatrixDet(MAT)</var>=
                        <var>DET</var>
                    </code>
                </div>
                <div>
                    Divide the adjugate by the determinant to get the inverse.
                </div>
                <div>
                    <code>
                        \frac{1}{<var>DET</var>}*
                        <var>printSimpleMatrix(MAT_ADJ)</var>
                    </code>
                </div>
                <!--<div>
                    <code><var>printSimpleMatrix(matrixAdj(MAT))</var></code>
                </div>
                <div>
                    <div data-video-hint data-youtube-id="xZBbfLLfVV4, ArcrdMkEmKo"></div>
                </div-->
                <div style="margin-top:5%;">
                    <code><var>PRETTY_MAT_ID</var>^{-1} = <var>PRETTY_SOLN_MAT</var></code>
                </div>
            </div>
        </div>
    </div>

    </div>
</body>
</html>

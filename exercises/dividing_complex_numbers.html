<!DOCTYPE html>
<html data-require="math math-format">
<head>
	<meta charset="UTF-8" />
	<title>Dividing complex numbers</title>
	<script src="../khan-exercise.js"></script>
</head>
<body>
	<div class="exercise">
	<div class="vars">
		<var id="A_REAL">randRange(-5, 5)</var>
		<var id="A_IMAG">randRange(-5, 5)</var>
		<var id="B_REAL">randRange(-5, 5)</var>
		<var id="B_IMAG">randRange(-5, 5)</var>
		<var id="DENOMINATOR">B_REAL * B_REAL + B_IMAG * B_IMAG</var>
		<var id="REAL_NUMERATOR">(A_REAL * B_REAL) + (A_IMAG * B_IMAG)</var>
		<var id="IMAG_NUMERATOR">(A_IMAG * B_REAL) - (A_REAL * B_IMAG)</var>
		<var id="ANSWER_REAL_UNROUNDED">REAL_NUMERATOR / DENOMINATOR</var>
		<var id="ANSWER_IMAG_UNROUNDED">IMAG_NUMERATOR / DENOMINATOR</var>
		<var id="ANSWER_REAL">roundTo(2, ANSWER_REAL_UNROUNDED)</var>
		<var id="ANSWER_IMAG">roundTo(2, ANSWER_IMAG_UNROUNDED)</var>
		<var id="A_REP">expr([ "+", A_REAL, [ "*", A_IMAG, "i" ] ])</var>
		<var id="B_REP">expr([ "+", B_REAL, [ "*", B_IMAG, "i" ] ])</var>
	</div>

	<div class="problems">
		<div>
			<p class="question">Divide the following complex numbers:</p>
			<p><code>\dfrac{<var>A_REP</var>}{<var>B_REP</var>}</code></p>
			<div class="solution" data-type="multiple">
				<p>Real part = <span class="sol" data-type="decimal"><var>ANSWER_REAL</var><span></p>
				<p>Imaginary part = <span class="sol" data-type="decimal"><var>ANSWER_IMAG</var></span></p>
				<p class="example">the separate parts of a complex number, rounded to 2 decimal digits (<code>5.008 + 3.192i</code> corresponds to 5.01 and 3.19).
				</p>
			</div>
			<div class="hints">
				<p>
					Complex number division is converted to complex multiplication using the denominator's complex conjugate.
				</p>
				<p>
					<code>\dfrac{<var>A_REP</var>}{<var>B_REP</var>} = 
						\dfrac{<var>A_REAL</var> + <var>A_IMAG</var>i}{<var>B_REAL</var> + <var>B_IMAG</var>i} \cdot
						\dfrac{<var>B_REAL</var> - <var>B_IMAG</var>i}{<var>B_REAL</var> - <var>B_IMAG</var>i}
					</code>
				</p>
				<p>
					The denominators are separately multiplied. A complex number times its complex conjugate is a real number, which
					lets the fraction "lose" its complex denominator.
				</p>
				<p>
					<code>
						\dfrac{(<var>A_REP</var>) \cdot (<var>B_REAL</var> - <var>B_IMAG</var>i)}
						{(<var>B_REP</var>) \cdot (<var>B_REAL</var> - <var>B_IMAG</var>i)} =
						\dfrac{(<var>A_REP</var>) \cdot (<var>B_REAL</var> - <var>B_IMAG</var>i)}
						{(<var>B_REAL</var>)^2 - (<var>B_IMAG</var>i)^2} =
						\dfrac{(<var>A_REP</var>) \cdot (<var>B_REAL</var> - <var>B_IMAG</var>i)}
						{<var>B_REAL * B_REAL</var> + <var>B_IMAG * B_IMAG</var>} =
						\dfrac{(<var>A_REP</var>) \cdot (<var>B_REAL</var> - <var>B_IMAG</var>i)}
						{<var>B_REAL * B_REAL + B_IMAG * B_IMAG</var>}
					</code>
				</p>
				<p>
					Afterwards, the numerator is multiplied.
				</p>
				<p>
					<code>
						\dfrac{(<var>A_REP</var>) \cdot (<var>B_REAL</var> - <var>B_IMAG</var>i)}
						{<var>DENOMINATOR</var>} = 
						\dfrac{(<var>A_REAL</var> \cdot <var>negParens(B_REAL)</var>) + (<var>A_IMAG</var> \cdot <var>negParens(B_REAL)</var>i) + (<var>A_REAL</var> \cdot <var>negParens(B_IMAG)</var>i) + (<var>A_IMAG</var> \cdot <var>negParens(B_IMAG)</var> i^2)}
						{<var>DENOMINATOR</var>} =
					</code><br />
					<code>\qquad
						= \dfrac{<var>A_REAL * B_REAL</var> + <var>A_IMAG * B_REAL</var>i + <var>A_REAL * B_IMAG</var>i - <var>A_IMAG * B_IMAG</var>}
						{<var>DENOMINATOR</var>} =
						\dfrac{<var>REAL_NUMERATOR</var> + <var>IMAG_NUMERATOR</var>i</var>}
						{<var>DENOMINATOR</var>} =
						<var>fraction(REAL_NUMERATOR, DENOMINATOR, true, true)</var> +
						<var>fraction(IMAG_NUMERATOR, DENOMINATOR, true, true, false, true)</var>i
					</code>
				</p>
				<p>
					The real part of the result is <code><var>fraction(REAL_NUMERATOR, DENOMINATOR, true, true)</var></code>, which is (rounded to 2 decimal places) <var>ANSWER_REAL</var>.<br />
					The imaginary part of the result is <code><var>fraction(IMAG_NUMERATOR, DENOMINATOR, true, true)</var></code>, which is (rounded to 2 decimal places) <var>ANSWER_IMAG</var>.
				</p>
			</div>
		</div>
	</div>
	</div>
</body>
</html>


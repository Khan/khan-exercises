<!DOCTYPE html>
<html data-require="math math-format graphie graphie-helpers">
<head>
	<meta charset="UTF-8" />
	<title>Number line</title>
	<script src="../khan-exercise.js"></script>
	<script>
		function compareStringNumber( a, b){
			return a - b;
		}
	</script>

</head>
<body>

	<div class="exercise">
	<div class="vars" >
		<div data-ensure="NOMINATOR/DENOMINATOR < 3">
			<var id="NOMINATOR"> randRange( 0 , 15 )</var>
			<var id="DENOMINATOR"> randRange( 1 , 15 )</var>
		</div>
		<var id="SIGN">rand( 2 ) === 1 ? "-" : ""</var>
		<var id="NUMBER">SIGN === "-" ? NOMINATOR/DENOMINATOR * -1 : NOMINATOR/DENOMINATOR </var>
		<var id="WRONGS">( function() { 
					var pos = rand( 5 );
					while( NUMBER - (0.47 * pos) < -3 ){
						pos--;
					} 
					while( NUMBER + 0.47 * (5 - pos) > 3 ){
						pos++;
					}

					arr = [];
					for ( i = 0; i < pos; i++){
						arr.push( NUMBER - ((pos - i) * 0.47))
					}
					arr.push( NUMBER );
					for ( i = pos + 1; i < 5; i++ ){
						arr.push( NUMBER + (( i - pos) * 0.47))
					}
					return arr;
				 })()</var>
		<var id="POSS_ANSWER">[ "A", "B", "C", "D", "E" ]</var>
		<var id="ANSWER" > POSS_ANSWER[  WRONGS.indexOf( NUMBER ) ] </var>
		<var id="NICE_NUMBER"> SIGN + " \\dfrac{" + NOMINATOR + "}{" +  DENOMINATOR + "}" </var>
		<Var id="REDUCED_NUMBER">SIGN + fraction( NOMINATOR, DENOMINATOR, true, true, false )</var>
	</div>
	<div class="problems">
		<div>
			<div class="question">
				<p>Which letter marks the position of number  <code><var>NICE_NUMBER</var></code> on the number line?</p>

			<div class="graphie">
				init({
					scale: [ 80, 40 ],
					range: [ [-0.2, 22], [-1, 1] ]
				});
				var start = -3;
				var end = 3;
				var originX = 0;
				var x = NUMBER;
				numberLine( start, end );
				style({ stroke: "#6495ED", fill: "#6495ED" });
				style({ stroke: "#FFA500", fill: "#FFA500", strokeWidth: 3.5, arrows: "->" });
				var already = [];
				for( i = 0; i !=  WRONGS.length; i++ ){
						ellipse(  [ WRONGS[ i ] + 3, 0 ], [0.03,0.18] );
						label( [WRONGS[ i ] + 3, 0 ], POSS_ANSWER[ i ] , "above", { labelDistance: 5 } );
				}
			</div>
			<div class="solution"><var>ANSWER</var></div>
			<ul class="choices" data-category="true">
				<li>A</li>
				<li>B</li>
				<li>C</li>
				<li>D</li>
				<li>E</li>
			</ul>
		</div>

	<div class="hints">
		<p data-if="reduces( NOMINATOR, DENOMINATOR )"><code><var>NICE_NUMBER</var></code> is equal to <code><var>REDUCED_NUMBER</var></code> </p>
		<p data-if="NUMBER !== 0"> Because it is <span data-if="NUMBER > 0">positive</span><span data-else>negative</span> we go <span data-if="NUMBER > 0">right</span><span data-else>left</span></p>
		<p data-if="round( NUMBER ) !== NUMBER" ><code> <var>REDUCED_NUMBER</var></code> is between <var>floor( NUMBER )</var> and <var>ceil( NUMBER )</var></p>
		<p data-if="round( NUMBER ) !== NUMBER" >It is closest to <var> round( NUMBER )</var>.</p>
		 <p data-if="round( NUMBER ) !== NUMBER" ><var>REDUCED_NUMBER</var> is <var>floor( abs( NUMBER ) ) * NUMBER/abs( NUMBER )</var> and <code><var>fraction( ( NOMINATOR - DENOMINATOR * floor( abs( NUMBER) ) ) * NUMBER/abs( NUMBER ) , DENOMINATOR, true, true )</var></code></p>
		<p>It is <var>ANSWER</var>.</p>
	</div>
	</div>
	</div>
	</div>
</body>
</html>

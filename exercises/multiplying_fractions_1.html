<!DOCTYPE html>
<html data-require="math graphie word-problems">
	<head>
		<title>Multiplying Fractions 1</title>
		<script src="../khan-exercise.js"></script>
		<style type="text/css">
			
			
			.hint_diagram_table {
				border: 0px solid black;
				width: 200px;
				height: 200px;
				border-collapse: collapse;	
			}
			
			.hint_empty_cell {
				border: 2px solid black;
				background: white;
				opacity:0.5;
			}
			
			.hint_box1_cell {
				border: 2px solid black;
				background: red;
				opacity:0.5;
			}
			
			.hint_box2_cell {
				border: 2px solid black;
				background: blue;
				opacity:0.5;
			}
		</style>
		<script>
			function verticallyDividedBox( selector, numeratorName, denominatorName ) {
				var numerator = jQuery.tmpl.VARS[numeratorName];
				var denominator = jQuery.tmpl.VARS[denominatorName];

				if ( $( selector ).find( "tbody" ).length < 1 ) {
					$( selector ).append( "<tbody/>" );
				}
				var tbody = $( selector ).find( "tbody" ); 
				for( i=0; i < denominator - numerator; i++ ) {
					tbody.append( "<tr><td class=\"hint_empty_cell\"/></tr>" );
				}
				for(i=0; i < numerator; i++) {
					tbody.append( "<tr><td class=\"hint_box1_cell\"/></tr>" );
				}	
			}

			function horizontallyDividedBox( selector, numeratorName, denominatorName ) {
				var numerator = jQuery.tmpl.VARS[numeratorName];
				var denominator = jQuery.tmpl.VARS[denominatorName];

				if ( $( selector ).find( "tbody" ).length < 1 ) {
					$( selector ).append( "<tbody/>" );
				}
				
				var rowHtml = "<tr>";
				for( i=0; i < denominator - numerator; i++ ) {
					rowHtml += "<td class=\"hint_empty_cell\"/>";
				}
				for( i=0; i < numerator; i++ ) {
					rowHtml += "<td class=\"hint_box2_cell\"/>";
				}
				rowHtml += "</tr>";
				$(selector).find( "tbody" ).append( rowHtml );				
			}
		</script>
	</head>
	<body>
		<div class="exercise">
			<div class="problems">

				<div id="fraction-with-fraction">
					<div class="vars" data-ensure="A_DENOMINATOR != B_DENOMINATOR">
						<var id="A_NUMERATOR">rand(3) + 1</var>
						<var id="A_DENOMINATOR">A_NUMERATOR + rand(3) + 1</var>
						<var id="B_NUMERATOR">rand(3) + 1</var>
						<var id="B_DENOMINATOR">B_NUMERATOR + rand(3) + 1</var>
						<var id="DEBUG_ANSWER">
							( A_NUMERATOR * B_NUMERATOR ).toString() + "/" + 
							( A_DENOMINATOR * B_DENOMINATOR ).toString()
						</var>
					</div>

					<div class="question">
						<p class="question_text">What is 
							<code>
								\frac{<var>A_NUMERATOR</var>}{<var>A_DENOMINATOR</var>} 
								\times
								\frac{<var>B_NUMERATOR</var>}{<var>B_DENOMINATOR</var>}
								= ?
							</code>
						</p>
					</div>
					<div class="solution" data-type="rational" data-simplify="optional">
						<var>
							( A_NUMERATOR * B_NUMERATOR ) / ( A_DENOMINATOR * B_DENOMINATOR )
						</var>
					</div>
					
					<div class="hints">
						<div id="problem1-hint1-div">
							<table>
								<tr>
									<td>
										First visualize
										<code>
											\frac{<var>A_NUMERATOR</var>}{<var>A_DENOMINATOR</var>}
										</code> 
										would look like. 
										<table id="problem1-hint1-box1" class="hint_diagram_table">
										</table>
										<script type="text/javascript">
											$(document).ready(function(){
												verticallyDividedBox( "#problem1-hint1-box1", 
														"A_NUMERATOR" , "A_DENOMINATOR");	
											});										
										</script>											
									</td>
									<td>
										Then visualize how 
										<code>
											\frac{<var>B_NUMERATOR</var>}{<var>B_DENOMINATOR</var>}
										</code> 
										would look like.
										<table id="problem1-hint1-box2" class="hint_diagram_table">
										</table>
										<script type="text/javascript">
											$(document).ready(function(){
												horizontallyDividedBox( "#problem1-hint1-box2", 
														"B_NUMERATOR", "B_DENOMINATOR");
											});										
										</script>										
									</td>
								</tr>
							</table>
						</div> <!-- End of hint 1 -->
						<div id="problem1-hint2-div">
							Now picture them together. 
							<button id="problem1-hint2-button">Push me</button>
							<span>
							</span>
						</div>					
					</div>
				</div>



			</div><!-- End of Problems -->
		</div><!-- End of Exercises -->
	</body>
</html>
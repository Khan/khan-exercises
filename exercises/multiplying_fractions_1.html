<!DOCTYPE html>
<html data-require="math graphie word-problems">
	<head>
		<title>Multiplying Fractions 1</title>
		<script src="../khan-exercise.js"></script>
		<style type="text/css">
			.padded_span {
				padding-top: 0px;
				padding-left: 0px;
				padding-bottom: 5px;
				padding-right: 5px;
			}

			.centered_cell {
				text-align: center;
			}

			.hint_diagram_table_small {
				border: 0px solid black;
				width: 100px;
				height: 100px;
				border-collapse: collapse;
			}

			.hint_diagram_table_big {
				border: 0px solid black;
				width: 200px;
				height: 200px;
				border-collapse: collapse;
			}

			.hint_diagram_table_overlay {
				border: 0px solid black;
				width: 200px;
				height: 200px;
				border-collapse: collapse;
				position: absolute;
			}

			.hint_diagram_table_overlay_small {
				border: 0px solid black;
				width: 100px;
				height: 100px;
				border-collapse: collapse;
				position: absolute;
			}

			.hint_empty_cell {
				border: 2px solid black;
				background: white;
				opacity:0.5;
				min-width: 0px;
			}

			.hint_box1_cell {
				border: 2px solid black;
				background: red;
				opacity:0.5;
				min-width: 0px;
			}

			.hint_box2_cell {
				border: 2px solid black;
				background: blue;
				opacity:0.5;
				min-width: 0px;
			}
			
			.hint_box3_cell {
				border: 2px solid black;
				background: purple;
				min-width: 0px;
			}
			
			
		</style>
		<script type="text/javascript">
			/*
			 * Generates HTML for a table displaying the fraction's visual representation.
			 * @param numerator numerator as INT.
			 * @param denominator as INT.
			 * @param id ID to give this table. (optional)
			 * @param className class name to give this table. (optional)
			 */
			function createVertTable( numerator, denominator, id, className ) {

				var table = jQuery( "<table/>" );
				if ( id != null ) {
					table.attr( "id", id );
				}

				if( className != null ) {
					table.addClass( className );
				} else {
					table.addClass( "hint_diagram_table_small" );
				}

				table.append( "<tbody/>" );
				var tbody = table.find("tbody");
				
				var rowHeight = table.height() / denominator;

				for( i=0; i < denominator - numerator; i++ ) {
					tbody.append( "<tr><td class=\"hint_empty_cell\" style=\"min-width:0px\"/></tr>" )
						.height(rowHeight);					
				}
				for( i=0; i < numerator; i++ ) {
					tbody.append( "<tr><td class=\"hint_box1_cell\" style=\"min-width:0px\"/></tr>" )
						.height(rowHeight);
				}

				return jQuery('<div />').append(table).html();
			}

			/*
			 * Generates HTML for a table displaying the fraction's visual representation.
			 * @param numerator numerator as INT
			 * @param denominator as INT
			 * @param id ID to give this table. (optional)
			 * @param className class name to give this table. (optional)
			 */
			function createHorizTable( numerator, denominator, id, className, boxClass ) {

				var table = jQuery( "<table/>" );
				if ( id != null ) {
					table.attr( "id", id );
				}

				if ( className != null ) {
					table.addClass( className );
				} else {
					table.addClass( "hint_diagram_table_small" );
				}

				var useBoxClass = "hint_box2_cell";
				if ( boxClass != null ) {
					useBoxClass = boxClass;
				}

				table.append( "<tbody/>" );
				var tbody = table.find("tbody");
				tbody.append( "<tr/>" );
				var row = tbody.find( "tr" );
				row.height( table.height() );

				var colWidth = row.width() / denominator;

				for( i=0; i < denominator - numerator; i++ ) {
					row.append("<td class=\"hint_empty_cell\"/>").width(colWidth);
				}
				for( i=0; i < numerator; i++ ) {
					row.append("<td class=\"" + useBoxClass + "\"/>").width(colWidth);
				}

				return jQuery('<div />').append(table).html();
			}


			/*
			 * Creates N number of boxes.
			 * @param number number of boxes as INT.
			 */
			function createNBoxes(number, idPrefix, className, boxClass) {
				var tablesSrc = "";
				for ( var i = 0; i < number; i++ ) {
					var idToUse = null;
					if( idPrefix != null ) {
						idToUse = idPrefix + "-" + i;
					}
					
					tablesSrc += "<span class=\"padded_span\">" 
						+ createHorizTable( 1, 1, idToUse, className, boxClass )
						+ "</span>";
				}
				return tablesSrc;
			}

			/*
			 * Creates N number of boxes in overlay style.
			 * @param number number of boxes as INT.
			 */
			function createNBoxesOverlayHoriz(number, idPrefix, numerator, denominator) {
				var tablesSrc = "";
				for ( var i = 0; i < number; i++ ) {
					var idToUse = null;
					if( idPrefix != null ) {
						idToUse = idPrefix + "-" + i;
					}
					
					tablesSrc += createHorizTable( numerator, denominator, idToUse, 
							"hint_diagram_table_overlay_small" );
				}
				return tablesSrc;
			}

			/*
			 * Creates N number of boxes in overlay style.
			 * @param number number of boxes as INT.
			 */
			function createNBoxesOverlayVert(number, idPrefix, numerator, denominator) {
				var tablesSrc = "";
				for ( var i = 0; i < number; i++ ) {
					var idToUse = null;
					if( idPrefix != null ) {
						idToUse = idPrefix + "-" + i;
					}
					
					tablesSrc += createVertTable( numerator, denominator, idToUse, 
							"hint_diagram_table_overlay_small" );
				}
				return tablesSrc;
			}

			/*
			 * Scrolls an element into view.
			 * @param selector jQuery selector to use.
			 */
			function scrollIntoView( selector ) {
				try {
					var hintOffset = jQuery( selector ).offset().top - 20;
					jQuery('html,body').animate({scrollTop: hintOffset}, 500);
				} catch( e ) {
					// Do nothing
				}
			}


			/*
			 * Takes a mixed number (positive) and reduces it to a simplified 
			 * mixed number stored in an object.
			 * @return object of form {whole:x, numerator:y, denominator:z} 
			 */
			function simplifyFraction( wholeNumber, numerator, denominator ) {
				var wholeNum = Math.floor( numerator / denominator ) + wholeNumber;
				var remainder = numerator % denominator;
				var gcd = KhanUtil.getGCD( remainder, denominator );
				var newNum = remainder / gcd;
				var newDenom = denominator / gcd;
				
				return {
						whole: wholeNum,
						numerator: ( remainder / gcd ),
						denominator: ( denominator / gcd )
					};
			}

		</script>
	</head>
	<body>
		<div class="exercise">
			<div class="vars">
				<!-- Detect MS Internet explorer.  So we can avoid serving CSS
					 animations, and serve alternate text hints. -->
				<var id="ISMSIE">(navigator.userAgent.indexOf('MSIE') !=-1)</var>
			</div>
			<div class="problems">

				<div id="fraction-with-fraction">
					<div class="vars" data-ensure="A_DENOMINATOR != B_DENOMINATOR">
						<var id="A_NUMERATOR">randRange(1, 4)</var>
						<var id="A_DENOMINATOR">A_NUMERATOR + randRange(1, 4)</var>
						<var id="B_NUMERATOR">randRange(1, 4)</var>
						<var id="B_DENOMINATOR">B_NUMERATOR + randRange(1, 4)</var>
						<var id="GCD">
							KhanUtil.getGCD( ( A_NUMERATOR * B_NUMERATOR ), 
								( A_DENOMINATOR * B_DENOMINATOR ))
						</var>
						<var id="TABLE_A">
							createVertTable( A_NUMERATOR, A_DENOMINATOR, null, null )
						</var>
						<var id="TABLE_B">
							createHorizTable( B_NUMERATOR, B_DENOMINATOR, null, null )
						</var>
						<var id="TABLE_A_HINT">
							createVertTable( A_NUMERATOR, A_DENOMINATOR, 'box1', 
								'hint_diagram_table_overlay' )
						</var>
						<var id="TABLE_B_HINT">
							createHorizTable( B_NUMERATOR, B_DENOMINATOR, 'box2', 
								'hint_diagram_table_overlay' )
						</var>
						<var id="SIMP_TABLE">
							createHorizTable( A_NUMERATOR * B_NUMERATOR / GCD,
								A_DENOMINATOR * B_DENOMINATOR / GCD, null, "hint_diagram_table_big", 
								"hint_box3_cell" )
						</var>	
					</div>

					<div class="question">
						<p class="question_text">What is
							<table>
								<tbody>
									<tr>
										<td class="centered_cell">
											<code>
												\huge{\frac{<var>A_NUMERATOR</var>}
												{<var>A_DENOMINATOR</var>}}
											</code>
										</td>
										<td class="centered_cell">
											<code>\huge{\times}</code>
										</td>
										<td class="centered_cell">
											<code>
												\huge{\frac{<var>B_NUMERATOR</var>}
												{<var>B_DENOMINATOR</var>}}
											</code>
										</td>
										<td class="centered_cell">
											<code>\huge{ = ?}</code>
										</td>
									</tr>
									<tr>
										<td><var>TABLE_A</var></td>
										<td></td>
										<td><var>TABLE_B</var></td>
										<td></td>
									</tr>
								</tbody>
							</table>
						</p>
					</div>
					<div class="solution" data-type="rational" data-simplify="optional">
						<var>
							( A_NUMERATOR * B_NUMERATOR ) / ( A_DENOMINATOR * B_DENOMINATOR )
						</var>
					</div>

					<div class="hints">
						<div id="problem1-hint1-div">
							<p>
								Another way to word this problem is:
							</p>
							<p>
								What is 
								<code>
									\frac{<var>A_NUMERATOR</var>}{<var>A_DENOMINATOR</var>}
								</code> 
								of 
								<code>
									\frac{<var>B_NUMERATOR</var>}{<var>B_DENOMINATOR</var>}
								</code> ?
							</p>
						</div> <!-- End of hint 1 -->

						<div id="problem1-hint2-div">
							<p data-if="ISMSIE == false">
								If we overlay one on top of the other, notice the total number 
								of boxes in the grid equal to
							 	<code><var>A_DENOMINATOR</var> \times <var>B_DENOMINATOR</var> 
									= <var>A_DENOMINATOR * B_DENOMINATOR</var></code>, 
								the product of the denominators.  
								The number of boxes where the two intersect is equal to 
								<code><var>A_NUMERATOR</var> \times <var>B_NUMERATOR</var>
									= <var>A_NUMERATOR * B_NUMERATOR</var></code>, the product of the 2 numerators.  
								So our unsimplified answer is: 
								<code>
									\frac{<var>A_NUMERATOR * B_NUMERATOR</var>}
									{<var>A_DENOMINATOR * B_DENOMINATOR</var>}
								</code>.
							</p>
							<p data-else>
								We can calculate the new denominator by the product of the 
								denominators of the two numbers.
							 	<code><var>A_DENOMINATOR</var> \times <var>B_DENOMINATOR</var> 
									= <var>A_DENOMINATOR * B_DENOMINATOR</var></code>.  
								The new numerator is equal to 
								<code><var>A_NUMERATOR</var> \times <var>B_NUMERATOR</var>
									= <var>A_NUMERATOR * B_NUMERATOR</var></code>, 
								the product of multiplying the 2 numerators.  
								So our unsimplified answer is: 
								<code>
									\frac{<var>A_NUMERATOR * B_NUMERATOR</var>}
									{<var>A_DENOMINATOR * B_DENOMINATOR</var>}
								</code>.
							</p>
							<div id="problem1-hint2-box-div" data-if="ISMSIE == false"
								style="display: block; position: relative; height:220px;">
								<var>TABLE_A_HINT</var>
								<var>TABLE_B_HINT</var>
							</div>
							<script type="text/javascript" data-if="ISMSIE == false">
								jQuery(document).ready(function(){
									// Scroll the hint into view.
									scrollIntoView( "#problem1-hint2-div");
									
									// animate the right box overlaying over the left one.
									jQuery("#box2").css("left", 300);
									jQuery("#box2").animate({left: "0"}, 5000);
								});
							</script>
						</div>	<!-- End of hint 2 div -->	
						<div id="problem1-hint3-div">
							<p data-if="GCD > 1">
								This can be further simplified to
								<code>
									\frac{<var>A_NUMERATOR * B_NUMERATOR / GCD</var>}
									{<var>A_DENOMINATOR * B_DENOMINATOR / GCD</var>}
								</code>, 
								by dividing both top and bottom by it's common denominator 
								<var>GCD</var>.								
							</p>
							<p data-else>
								This fraction cannot be further simplified.
							</p>
							<div id="problem1-hint3-box-div"  data-if="ISMSIE == false"
								style="display: position: relative;">
							</div>
							<div id="problem1-hint3-box-div2" style="display:none"
								data-if="ISMSIE == false">
								<var>SIMP_TABLE</var>
							</div>	
							<script type="text/javascript" data-if="ISMSIE == false">
								jQuery(document).ready(function(){
									// Scroll the hint into view.
									scrollIntoView( "#problem1-hint3-div" );

									// Skip simplifiation animation in Chrome.  A bug in Chrome
									// breaks rearranging the DOM in this way.
									var is_chrome = navigator.userAgent.toLowerCase()
										.indexOf('chrome') > -1;
									if( !is_chrome ) {
										// move the old hint box to this hint.
										var oldHintBox = jQuery( "#problem1-hint2-box-div" );
										jQuery( "#problem1-hint3-box-div2" )
											.height( oldHintBox.height() );
										jQuery( "#problem1-hint3-box-div" ).append( oldHintBox );
	
										// fade out the original boxes while fading in 
										// the simplified mixed fraction.
										jQuery( "#problem1-hint2-box-div" ).fadeOut( 3000,
												function() {
											jQuery( "#problem1-hint3-box-div2" )
												.fadeIn( 3000, function() {
												jQuery( "#problem1-hint3-box-div2" )
												.css( 'opacity', 1 );
											} );
											
										} );
									} else {										
										jQuery( "#problem3-hint3-box-div2" ).css( 'opacity', 1 );
										jQuery( "#problem3-hint3-box-div2" ).css( 'display', 'block' );
									}									
								});
							</script>
						</div>
					</div><!-- End of Hints -->
				</div><!-- End of problem 1 -->

				<div id="fraction-with-whole-number">
					<div class="vars">
						<var id="A_NUMERATOR">randRange(1, 4)</var>
						<var id="A_DENOMINATOR">A_NUMERATOR + randRange(1, 4)</var>
						<var id="B_NUMBER">randRange(1, 4)</var>
						<var id="SIMPLIFIED">
							simplifyFraction(0, A_NUMERATOR * B_NUMBER, A_DENOMINATOR )
						</var>
						<var id="GCD">
							KhanUtil.getGCD( ( A_NUMERATOR * B_NUMBER ), ( A_DENOMINATOR ) )
						</var>
						<var id="TABLE_A">
							createVertTable( A_NUMERATOR, A_DENOMINATOR, null, null )
						</var>
						<var id="TABLES_B">
							createNBoxes( B_NUMBER )
						</var>
						<var id="TABLE_A_HINT">
							createNBoxesOverlayVert( B_NUMBER, 'box1', A_NUMERATOR, A_DENOMINATOR )
						</var>
						<var id="TABLES_B_HINT">
							createNBoxesOverlayHoriz( B_NUMBER, 'box2', 1, 1 )
						</var>						
						<var id="SIMP_TABLES">createNBoxes( SIMPLIFIED.whole, null, null, 
							"hint_box3_cell" )  
							+ (SIMPLIFIED.numerator > 0 ? createHorizTable( SIMPLIFIED.numerator, 
								SIMPLIFIED.denominator, null, null, 
								"hint_box3_cell" ) : "")
						</var>					
					</div>

					<div class="question">
						<p class="question_text">What is
							<table>
								<tbody>
									<tr>
										<td class="centered_cell">
											<code>
												\huge{\frac{<var>A_NUMERATOR</var>}
												{<var>A_DENOMINATOR</var>}}
											</code>
										</td>
										<td class="centered_cell">
											<code>\huge{\times}</code>
										</td>
										<td class="centered_cell">
											<code>
												\huge{<var>B_NUMBER</var>}
											</code>	
										</td>
										<td class="centered_cell">
											<code>\huge{ = ?}</code>
										</td>
									</tr>
									<tr>
										<td><span class="padded_span"><var>TABLE_A</var></span></td>
										<td></td>
										<td><var>TABLES_B</var></td>
										<td></td>
									</tr>
								</tbody>
							</table>
							Please answer as a fraction (ex: 4/3) or a mixed number (ex: 1 2/3).
						</p>
					</div>

					<div class="solution" data-type="mixedfraction" data-simplify="optional">
						<var>
							( A_NUMERATOR * B_NUMBER ) / ( A_DENOMINATOR )
						</var>
					</div>

					<div class="hints">
						<div>
							<p>
								Another way of wording this problem is:
							</p>
							<p>
								What is 
								<code>
									\frac{<var>A_NUMERATOR</var>}
									{<var>A_DENOMINATOR</var>}
								</code>
								of <var>B_NUMBER</var> ?
							</p>
						</div>

						<div id="problem2-hint2-div">
							<p data-if="ISMSIE == false">
								Notice that if we count overlapping boxes, we have 
								<code><var>A_NUMERATOR</var> \times <var>B_NUMBER</var>
									= <var>A_NUMERATOR * B_NUMBER</var></code> 
								pieces, the product of the numerator times the whole 
								number. Each box is divided into <var>A_DENOMINATOR</var>  
								equal pieces of <code>\frac{1}{<var>A_DENOMINATOR</var>}</code> 
								size. This makes the unsimplified answer 
								<code>
									\frac{<var>A_NUMERATOR * B_NUMBER</var>}{<var>A_DENOMINATOR</var>}
								</code>.
							</p>
							<p data-else>
								We can calculate the new numerator by  multiplying the numerator 
								of the 1st number with the 2nd number, 
								<code><var>A_NUMERATOR</var> \times <var>B_NUMBER</var>
									= <var>A_NUMERATOR * B_NUMBER</var></code>.
								We can then just take the denominator of the first number,
								<var>A_DENOMINATOR</var>}</code>, because <var>B_NUMBER</var> is 
								equivalent to <code>\frac{<var>B_NUMBER</var>}{1}</code>.
								This makes the unsimplified answer 
								<code>
									\frac{<var>A_NUMERATOR * B_NUMBER</var>}{<var>A_DENOMINATOR</var>}
								</code>.
							</p>
							<div id="problem2-hint2-box-div" data-if="ISMSIE == false"
								style="display: block; position: relative; height:220px;">
								<var>TABLE_A_HINT</var>
								<var>TABLES_B_HINT</var>

								<script type="text/javascript" data-if="ISMSIE == false">
									jQuery(document).ready(function(){
										// Scroll the hint into view.
										scrollIntoView("#problem2-hint2-div");

										// Get the <var> value of B_NUMBER indirectly by 
										// querying for generated boxes.
										var bNumber = 1;
										while( bNumber < 10 ) {											
											if ( jQuery( "#box2-" + bNumber ).length < 1 ) {
												break;
											} else {
												bNumber++;
											}
										}

										// size parent div
										jQuery( "#problem2-hint2-box-div" ).width( 400 );
										jQuery( "#problem2-hint2-box-div" ).height( bNumber * 105 + 10 );

										// position the right boxes
										for( var i = 0; i < bNumber; i++ ) {
											jQuery( "#box2-" + i ).css( "left", 200 );
											jQuery( "#box2-" + i ).css( "top", 105 * i );
										}

										// animate overlaying the left box over the right ones.
										for( var i = 0; i < bNumber; i++ ) {
											jQuery( "#box1-" + i ).animate({
													left: 200,
													top: ( i * 105 )
												}, 5000);
										}
									});
								</script>
							</div>
						</div>
						<div id="problem2-hint3-div">
							<p data-if="GCD > 1">
								This can be further simplified to
								<code>
									\frac{<var>A_NUMERATOR * B_NUMBER / GCD</var>}
									{<var>A_DENOMINATOR / GCD</var>}
								</code>, 
								by dividing both top and bottom by it's common denominator 
								<var>GCD</var>.							
							</p>
							<p data-if="SIMPLIFIED.whole > 0" >
									We can further simplify the expression by dividing the 
									numerator by the denominator, and taking the part that 
									divided evenly out of the fraction and leave the 
									remainder as a fraction. This makes the simplified answer 
									<code><var>SIMPLIFIED.whole</var> 
										<span data-if="SIMPLIFIED.numerator > 0">
										\frac{<var>SIMPLIFIED.numerator</var>}
										{<var>SIMPLIFIED.denominator</var>}</span>
									</code>.
							</p>
							<p data-if="SIMPLIFIED.whole < 1 &&	GCD <= 1" >
								This cannot be simplified any further.
							</p>
							<div id="problem2-hint3-box-div"  data-if="ISMSIE == false"
								style="display: position: relative;">
							</div>
							<div id="problem2-hint3-box-div2" style="display:none"
								data-if="ISMSIE == false">
								<var>SIMP_TABLES</var>
							</div>
							<script type="text/javascript" data-if="ISMSIE == false">
								jQuery(document).ready(function(){
									var oldHintBox = jQuery( "#problem2-hint2-box-div" );
									jQuery( "#problem2-hint3-box-div2" )
										.height( oldHintBox.height() );
									
									// Scroll the hint into view.
									scrollIntoView("#problem2-hint3-div");							
									
									// Skip simplifiation animation in Chrome.  A bug in Chrome
									// breaks rearranging the DOM in this way.
									var is_chrome = navigator.userAgent.toLowerCase()
										.indexOf('chrome') > -1;

									if( !is_chrome ) {
										// move the old hint box to this hint.
										jQuery( "#problem2-hint3-box-div" ).append( oldHintBox );
	
										// fade out the original boxes while fading in 
										// the simplified mixed fraction.
										jQuery( "#problem2-hint2-box-div" ).fadeOut( 3000,
											function() {
												jQuery( "#problem2-hint3-box-div2" ).fadeIn( 3000, 
													function() {
														jQuery( "#problem2-hint3-box-div2" )
															.css( 'opacity', 1 );
											} );
										} );
									} else {
										jQuery( "#problem2-hint3-box-div2" ).css( 'opacity', 1 );
										jQuery( "#problem2-hint3-box-div2" ).css( 'display', 'block' );
									}
								});
							</script>
						</div>
						
					</div><!-- End of hints -->
				</div><!-- End of problem 2 -->

				<div id="fraction-with-mixed-number">
					<div class="vars" data-ensure="(A_DENOMINATOR * B_DENOMINATOR) < 9">				
						<var id="A_NUMERATOR">randRange(1, 3)</var>
						<var id="A_DENOMINATOR">A_NUMERATOR + randRange(1, 3)</var>
						<var id="B_NUMBER">randRange(1, 3)</var>
						<var id="B_NUMERATOR">randRange(1, 3)</var>
						<var id="B_DENOMINATOR">B_NUMERATOR + randRange(1, 4)</var>
						<var id="GCD">
							KhanUtil.getGCD( ( A_NUMERATOR * (B_NUMBER * B_DENOMINATOR + B_NUMERATOR) ), 
								( A_DENOMINATOR * B_DENOMINATOR ) )
						</var>
						<var id="SIMPLIFIED">
							simplifyFraction(0, 
								A_NUMERATOR * ( ( B_NUMBER * B_DENOMINATOR ) + B_NUMERATOR ),
								A_DENOMINATOR * B_DENOMINATOR )
						</var>
						<var id="TABLE_A">
							createVertTable( A_NUMERATOR, A_DENOMINATOR, null, null )
						</var>
						<var id="TABLES_B">
							createNBoxes( B_NUMBER ) 
							+ createHorizTable( B_NUMERATOR, B_DENOMINATOR, null, null )
						</var>
						<var id="TABLE_A_HINT">
							createNBoxesOverlayVert( B_NUMBER + 1, 'box1', A_NUMERATOR, A_DENOMINATOR )
						</var>
						<var id="TABLES_B_HINT">
							createNBoxesOverlayHoriz( B_NUMBER, 'box2', B_DENOMINATOR, B_DENOMINATOR )
							+ createHorizTable( B_NUMERATOR, B_DENOMINATOR, 'box2frac', 
								'hint_diagram_table_overlay_small' )
						</var>
						<var id="SIMP_TABLES">createNBoxes( SIMPLIFIED.whole, null, null, 
							"hint_box3_cell" )  
							+ ( SIMPLIFIED.numerator > 0 ? createHorizTable( SIMPLIFIED.numerator, 
								SIMPLIFIED.denominator, null, null,	"hint_box3_cell" ) : "")
						</var>
					</div>

					<div class="question">
						<p class="question_text">What is
							<table>
								<tbody>
									<tr>
										<td class="centered_cell">
											<code>
												\huge{\frac{<var>A_NUMERATOR</var>}
												{<var>A_DENOMINATOR</var>}}
											</code>
										</td>
										<td class="centered_cell">
											<code>\huge{\times}</code>
										</td>
										<td class="centered_cell">
											<code>
												\huge{<var>B_NUMBER</var> 
												\frac{<var>B_NUMERATOR</var>}
												{<var>B_DENOMINATOR</var>}}
											</code>	
										</td>
										<td class="centered_cell">
											<code>\huge{ = ?}</code>
										</td>
									</tr>
									<tr>
										<td><span class="padded_span"><var>TABLE_A</var></span></td>
										<td></td>
										<td><var>TABLES_B</var></td>
										<td></td>
									</tr>
								</tbody>
							</table>
							Please answer as a fraction (ex: 4/3) or a mixed number (ex: 3 4/5).
						</p>
					</div><!-- end of question -->

					<div class="solution" data-type="mixedfraction" data-simplify="optional">
						<var>( A_NUMERATOR * ( B_NUMBER * B_DENOMINATOR + B_NUMERATOR ) ) 
						/ ( A_DENOMINATOR * B_DENOMINATOR )</var>
					</div>

					<div class="hints">
						<div>
							<p>
								Another way of wording this problem is:
							</p>
							<p>
								What is 
								<code>
									\frac{<var>A_NUMERATOR</var>}
									{<var>A_DENOMINATOR</var>}
								</code> 
								of <code>\frac{<var>B_NUMBER * B_DENOMINATOR + B_NUMERATOR</var>}
								{<var>B_DENOMINATOR</var>}</code> ?
							</p>
							<p>
								Converted the whole number to an improper fraction by first 
								multiplying the whole number portion with the denominator then 
								adding the existing numerator back in: 
								<code>
									\frac{<var>B_NUMBER</var> \times <var>B_DENOMINATOR</var> + 
									<var>B_NUMERATOR</var>}
								{<var>B_DENOMINATOR</var>} 
								= 	\frac{<var>B_NUMBER * B_DENOMINATOR + B_NUMERATOR</var>}
									{<var>B_DENOMINATOR</var>}
								</code>
							</p>
						</div>

						<div id="problem3-hint2-div">
							<p data-if="ISMSIE == false">
								Notice that if we count overlapping boxes, we have 
								<code>
									<var>A_NUMERATOR</var> \times 
									<var>B_NUMBER * B_DENOMINATOR + B_NUMERATOR</var>
									= 
									<var>A_NUMERATOR * 
										(B_NUMBER * B_DENOMINATOR + B_NUMERATOR)</var>
								</code> 
								pieces, the product of the numerators of the 2 
								numbers. By multiplying the 2 denominators, we find each box 
								is divided into 
								<code><var>A_DENOMINATOR</var> \times <var>B_DENOMINATOR</var>
								= <var>A_DENOMINATOR * B_DENOMINATOR</var></code> 
								equal pieces of 
								<code>\frac{1}{<var>A_DENOMINATOR * B_DENOMINATOR</var>}</code> 
								size.  
								This makes the unsimplified answer 
								<code>
									\frac{<var>A_NUMERATOR * ( B_NUMBER * B_DENOMINATOR 
										+ B_NUMERATOR)</var>}
									{<var>A_DENOMINATOR * B_DENOMINATOR</var>}
								</code>.
							</p>
							<p data-else>
								We can calculate the new numerator by multiplying the the 
								numerators of the two numbers together, 
								<code>
									<var>A_NUMERATOR</var> \times 
									<var>B_NUMBER * B_DENOMINATOR + B_NUMERATOR</var>
									= 
									<var>A_NUMERATOR * 
										(B_NUMBER * B_DENOMINATOR + B_NUMERATOR)</var>
								</code>.
								We can then calculate the new denominator by multiple the two 
								denominators together,
								<code><var>A_DENOMINATOR</var> \times <var>B_DENOMINATOR</var>
								= <var>A_DENOMINATOR * B_DENOMINATOR</var></code>.
								This gives us the unsimplified answer of 
								<code>
									\frac{<var>A_NUMERATOR * ( B_NUMBER * B_DENOMINATOR 
										+ B_NUMERATOR)</var>}
									{<var>A_DENOMINATOR * B_DENOMINATOR</var>}
								</code>.
							</p>
							<div id="problem3-hint2-box-div"  data-if="ISMSIE == false"
								style="display: block; position: relative; height:220px;">
								<var>TABLE_A_HINT</var>
								<var>TABLES_B_HINT</var>
	
								<script type="text/javascript" data-if="ISMSIE == false">
									jQuery(document).ready(function(){
										// Scroll the hint into view.
										scrollIntoView("#problem3-hint2-div");

										// Get the <var> value of B_NUMBER indirectly by 
										// querying for generated boxes.
										var bNumber = 1;
										while( bNumber < 10 ) {											
											if ( jQuery( "#box2-" + bNumber ).length < 1 ) {
												break;
											} else {
												bNumber++;
											}
										}

										// size parent div
										jQuery( "#problem3-hint2-box-div" ).width( 400 );
										jQuery( "#problem3-hint2-box-div" )
											.height( ( bNumber + 1 ) * 105 + 10 );

										// position the right boxes
										var i = 0;
										for( var i = 0; i < bNumber; i++ ) {
											jQuery( "#box2-" + i ).css( "left", 200 );
											jQuery( "#box2-" + i ).css( "top", 105 * i );
										}
										jQuery( "#box2frac" ).css( "left", 200 );
										jQuery( "#box2frac" ).css( "top", 105 * i );

										// animate overlaying the left box over the right ones.
										for( var i = 0; i < bNumber + 1; i++ ) {
											jQuery( "#box1-" + i ).animate({
													left: 200,
													top: ( i * 105 )
												}, 5000);
										}
									});
								</script>
							</div>
						</div>
						<div id="problem3-hint3-div">
							<p data-if="GCD > 1">
								This can be further simplified to
								<code>
									\frac{<var>A_NUMERATOR * ( B_NUMBER * B_DENOMINATOR + B_NUMERATOR) / GCD</var>}
									{<var>(A_DENOMINATOR * B_DENOMINATOR) / GCD</var>}
								</code>, 
								by dividing both top and bottom by it's common denominator 
								<var>GCD</var>.
							</p>
							<p data-if="(A_NUMERATOR * ( B_NUMBER * B_DENOMINATOR + B_NUMERATOR) ) 
								>= (A_DENOMINATOR * B_DENOMINATOR)">								
								We can further simplify the expression by dividing the numerator 
								by the	denominator, and taking the part that evenly divided out 
								of the fraction, while leaving the remainder in the fraction. 
								This makes the simplified answer 
								<code><var>SIMPLIFIED.whole</var> 
								<span data-if="SIMPLIFIED.numerator > 0">
								\frac{<var>SIMPLIFIED.numerator</var>}
								{<var>SIMPLIFIED.denominator</var>}</span></code>.								
							</p>
							<p data-if="SIMPLIFIED.whole < 1 &&	GCD <= 1">
								This cannot be simplified any further.
							</p>
							<div id="problem3-hint3-box-div" data-if="ISMSIE == false"
								style="display: block; position: relative;"/>
							<div id="problem3-hint3-box-div2" style="display:none"
								data-if="ISMSIE == false">
								<var>SIMP_TABLES</var>
							</div>							
							<script type="text/javascript" data-if="ISMSIE == false">
								jQuery(document).ready(function(){
									var oldHintBox = jQuery( "#problem3-hint2-box-div" );
									jQuery( "#problem3-hint3-box-div2" )
										.height( oldHintBox.height() );
																		
									// Scroll the hint into view.
									scrollIntoView( "#problem3-hint3-div" );

									// Skip simplifiation animation in Chrome.  A bug in Chrome
									// breaks rearranging the DOM in this way.
									var is_chrome = navigator.userAgent.toLowerCase()
										.indexOf('chrome') > -1;
									if( !is_chrome ) {
										// move the old hint box to this hint.
										jQuery( "#problem3-hint3-box-div" ).append( oldHintBox );
	
										// fade out the original boxes while fading in 
										// the simplified mixed fraction.
										jQuery( "#problem3-hint2-box-div" ).fadeOut( 3000,
												function() {
											jQuery( "#problem3-hint3-box-div2" ).fadeIn( 3000, 
													function() {
														jQuery( "#problem3-hint3-box-div2" )
															.css( 'opacity', 1 );
											} );
										} );
									} else {										
										jQuery( "#problem3-hint3-box-div2" ).css( 'opacity', 1 );
										jQuery( "#problem3-hint3-box-div2" ).css( 'display', 'block' );
									}									
								});
							</script>														
						</div>
					</div><!-- End of hints -->
					
				</div><!-- End of problem 3 -->

			</div><!-- End of Problems -->
		</div><!-- End of Exercises -->
	</body>
</html>